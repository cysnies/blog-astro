<div id="tcomment"></div>

<style is:global>
  main,
  #comment,
  div#twikoo {
    margin-left: auto;
    margin-right: auto;
    width: 100%;
    max-width: 48rem; 
    padding-left: 1rem;
    padding-right: 1rem;
    padding-bottom: 3rem;
  }
</style>

<script>
document.addEventListener('astro:page-load', () => {
  function loadTwikoo() {
    const commentsContainer = document.getElementById('tcomment');
    if (commentsContainer) {
      const script = document.createElement('script');
      script.src = 'https://registry.npmmirror.com/twikoo/1.6.41/files/dist/twikoo.all.min.js';
      script.async = true;
      script.onload = () => {
        const initScript = document.createElement('script');
        initScript.innerHTML = `
          twikoo.init({
            envId: 'https://twikoo.tcea.top',
            el: '#tcomment',
          });
        `;
        document.body.appendChild(initScript);
      };
      document.body.appendChild(script);
    }
  }
  loadTwikoo();
});
</script>